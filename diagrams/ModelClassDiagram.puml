@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model as ModelPackage <<Rectangle>>{
Class "<<interface>>\nReadOnlyContactBook" as ReadOnlyContactBook
Class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
Class "<<interface>>\nModel" as Model
Class ContactBook
Class ModelManager
Class UserPrefs

Class UniquePersonList
Class Person
Class Name
Class Phone
Class Email
Class Organisation
Class Role
Class Category
Class InterviewList
Class Interview
Class Header
Class Location

Class I #FFFFFF
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

ContactBook .up.|> ReadOnlyContactBook

ModelManager .up.|> Model
Model .right.> ReadOnlyUserPrefs
Model .left.> ReadOnlyContactBook
ModelManager -left-> "1" ContactBook
ModelManager -right-> "1" UserPrefs
UserPrefs .up.|> ReadOnlyUserPrefs

ContactBook *--> "1" UniquePersonList
UniquePersonList --> "~* all" Person
Person *--> "1" Name
Person *--> "0..1" Phone
Person *--> "0..1" Email
Person *--> "1" Organisation
Person *--> "1" Role
Person *--> "*" Category
Person *--> "1" InterviewList
InterviewList --> "*" Interview
Interview *--> "1" Header
Interview *--> "1" Location

note right of Person
  {constraint} At least one of phone or email must be present.
end note

Person -[hidden]up--> I
UniquePersonList -[hidden]right-> I

Name -[hidden]right-> Phone
Phone -[hidden]right-> Email
Email -[hidden]right-> Organisation

ModelManager --> "~* filtered" Person
@enduml
